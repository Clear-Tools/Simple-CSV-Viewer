<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0"><title>Simple CSV Viewer</title><style>html{overflow:auto}:root{--bg:#0d1117;--surf:#161b22;--brd:#30363d;--txt:#f0f6fc;--txt2:#8b949e;--acc:#8957e5;--hov:#9e6cf5}body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Helvetica,Arial,sans-serif;background:var(--bg);color:var(--txt);margin:0;padding:40px 20px;display:flex;flex-direction:column;align-items:center;min-height:100vh;box-sizing:border-box;overflow-x:hidden}::-webkit-scrollbar{width:12px;height:12px}::-webkit-scrollbar-track{background:var(--bg)}::-webkit-scrollbar-thumb{background:var(--brd);border-radius:6px;border:3px solid var(--bg)}::-webkit-scrollbar-thumb:hover{background:#555}h1{margin:0 0 40px 0;font-weight:600;color:var(--txt);width:100%;max-width:900px;text-align:center;font-size:2rem;letter-spacing:-.5px;cursor:pointer}.c{display:flex;flex-direction:column;gap:24px;width:100%;max-width:600px;background:var(--surf);padding:40px;border:1px solid var(--brd);border-radius:6px;box-shadow:0 4px 20px #0003}.c.h{display:none}.ig{display:flex;flex-direction:column;gap:12px}label{font-size:.95rem;font-weight:600;color:var(--txt2);text-transform:uppercase;letter-spacing:.5px}textarea,.da{background:var(--bg);border:1px solid var(--brd);color:var(--txt);border-radius:6px;font-family:'SFMono-Regular',Consolas,Menlo,monospace;font-size:.9rem;width:100%;box-sizing:border-box;transition:all .2s ease}textarea{padding:16px;height:150px;resize:vertical;line-height:1.5}.da{padding:40px 20px;text-align:center;cursor:pointer;border-style:dashed;position:relative}.da.dragover{border-color:var(--acc);background:#8957e51a}textarea:focus,.da:hover{outline:none;border-color:var(--acc);background:#0d1117}input[type=file]{display:none}.fl{cursor:pointer;display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%;color:var(--txt2);font-weight:500;pointer-events:none}.da input{pointer-events:none}button{background:var(--acc);color:#fff;border:none;padding:16px;cursor:pointer;font-family:inherit;font-size:1rem;font-weight:600;border-radius:6px;margin-top:10px;transition:background .2s,transform .1s;width:100%}button:hover{background:var(--hov)}button:active{transform:scale(.98)}.div{text-align:center;position:relative;margin:10px 0;color:var(--txt2);font-size:.85rem;font-weight:600}.div::before,.div::after{content:"";position:absolute;top:50%;width:42%;height:1px;background:var(--brd)}.div::before{left:0}.div::after{right:0}.tw{width:100%;max-width:1400px;flex:1;display:none;flex-direction:column;animation:f .3s ease}.tw.v{display:flex}@keyframes f{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.tc{width:100%;overflow:auto;border:1px solid var(--brd);border-radius:6px;background:var(--surf);max-height:85vh}table{width:100%;border-collapse:separate;border-spacing:0;text-align:left;font-size:14px;font-family:'SFMono-Regular',Consolas,Menlo,monospace}th,td{padding:14px 20px;border-bottom:1px solid var(--brd);white-space:pre-wrap}th{background:var(--surf);position:sticky;top:0;z-index:10;font-weight:600;color:var(--acc);border-bottom:2px solid var(--brd);box-shadow:0 2px 4px #0003;cursor:pointer;user-select:none}th:hover{background:var(--bg)}tr:nth-child(even){background:#ffffff05}tr:hover{background:#8957e51a}.err{color:#ff7b72;background:#ff7b721a;border:1px solid #ff7b7233;padding:16px;margin-bottom:24px;border-radius:6px;display:none;text-align:center;width:100%;max-width:600px;font-weight:500}@media(max-width:600px){body{padding:20px 10px}.c{padding:24px;gap:20px}h1{font-size:1.5rem;margin-bottom:30px}th,td{padding:10px 14px;font-size:13px}}</style></head><body><h1 onclick="location.reload()">CSV Viewer</h1><div id="e" class="err"></div><div id="c" class="c"><div class="ig"><label>Upload File</label><div class="da" id="d"><label class="fl"><span>Upload File</span></label><input type="file" id="f" accept=".csv,.txt"></div></div><div class="div">OR</div><div class="ig"><label>Write Code</label><textarea id="t" placeholder="ID, Name, Role&#10;1, John, Admin&#10;2, Jane, User"></textarea></div><button id="b">Show Table</button></div><div id="w" class="tw"><div class="tc"><table id="tbl"><thead></thead><tbody></tbody></table></div></div><script>{const f=document.getElementById('f'),ta=document.getElementById('t'),c=document.getElementById('c'),w=document.getElementById('w'),th=document.querySelector('#tbl thead'),tb=document.querySelector('#tbl tbody'),em=document.getElementById('e'),d=document.getElementById('d'),btn=document.getElementById('b');let od=[],ss={c:-1,o:0};btn.onclick=p;d.onclick=()=>f.click();['dragenter','dragover','dragleave','drop'].forEach(e=>d.addEventListener(e,e=>{e.preventDefault();e.stopPropagation()},!1));['dragenter','dragover'].forEach(e=>d.addEventListener(e,()=>d.classList.add('dragover'),!1));['dragleave','drop'].forEach(e=>d.addEventListener(e,()=>d.classList.remove('dragover'),!1));d.ondrop=e=>{const x=e.dataTransfer.files;x.length&&(f.files=x,p())};f.onchange=e=>{e.target.files.length&&p()};function p(){ss={c:-1,o:0};const x=f.files[0];if(x){const r=new FileReader;r.onload=e=>{od=csv(e.target.result);rT(od)};r.onerror=()=>err("Error Reading File");r.readAsText(x)}else{const v=ta.value.trim();v?(od=csv(v),rT(od)):err("Please Paste CSV Text or Upload a File.")}}function csv(x){const r=[];let rw=[],n="",q=!1;x=x.replace(/\r\n|\r/g,"\n");for(let i=0;i<x.length;i++){const k=x[i],nxt=x[i+1];'"'===k?q&&'"'===nxt?(n+='"',i++):q=!q:","===k&&!q?(rw.push(n),n=""):("\n"===k&&!q?(rw.push(n),rw.length>0&&(rw.length>1||""!==rw[0])&&r.push(rw),rw=[],n=""):n+=k)}return(n||rw.length>0)&&(rw.push(n),r.push(rw)),r}function s(i){ss.c!==i?ss={c:i,o:1}:ss.o=(ss.o+1)%3;if(0===ss.o)return void rT(od);const h=od[0],b=od.slice(1);b.sort((a,b)=>{let x=a[i],y=b[i];const n1=parseFloat(x),n2=parseFloat(y);return isNaN(n1)||isNaN(n2)?(x=x?x.toString().toLowerCase():"",y=y?y.toString().toLowerCase():""):(x=n1,y=n2),x<y?-1===ss.o?1:-1:x>y?1===ss.o?1:-1:0});rT([h,...b])}function rT(d){if(th.innerHTML="",tb.innerHTML="",em.style.display="none",!d||0===d.length)return void err("No Valid Data Found.");const h=d[0],hr=document.createElement("tr");h.forEach((x,i)=>{const el=document.createElement("th");let sf="";ss.c===i&&(1===ss.o?sf=" ↑":2===ss.o&&(sf=" ↓"));el.textContent=x+sf;el.onclick=()=>s(i);hr.appendChild(el)});th.appendChild(hr);const frag=document.createDocumentFragment(),hl=h.length;for(let i=1;i<d.length;i++){const r=document.createElement("tr"),row=d[i],ln=Math.max(hl,row.length);for(let j=0;j<ln;j++){const td=document.createElement("td");td.textContent=row[j]||"";r.appendChild(td)}frag.appendChild(r)}tb.appendChild(frag);c.classList.add("h");w.classList.add("v")}function err(m){em.textContent=m;em.style.display="block"}}</script></body></html>
